;
;  This file describes the unit group formation templates, any number of group formations can be specified
;  these templates are used to give a group of units a formation, the units available  in the group may not
;  totally fit the template in which case a best-fit is determined when the formation is created
;
;  Formation block positions can either be specified with a relative normalised (x,z) or they can be specified
;  relative to another formation block (when specifying in this manner rotation CANNOT be given)
;  a formation must be described entirely in one method or the other
;
;
;  formation                  the name given to this formation template
;
;  formation purposes            hints to ai for using this formation
;
;  ai_priority                hint to the ai, denotes priority of using this template
;
;  BLOCK SPEC
;
;  unit_type                  specifies units that can be allocated to the block
;                          either : -
;                                   any
;                                   phalanx
;                                   non_phalanx_spear
;                                   chanting_screeching
;                                   ranged_missile_infantry
;                                   elephants
;                                   heavy_chariots
;                                   pilum_infantry
;                                   <UNIT_CLASS> <UNIT_CATEGORY> <PRIORITY>
;                          the priority dictates the order of assigning different unit types
;                          a priority of zero means that type will only ever be assigned to this block
;                          to fulfill block minimums
;  default_melee_state <OPTIONAL>   the melee state that will be assigned to units
;                          in the formation
;  unit_formation             the formation the units within this block will be in (wedge, square, ...)
;  unit_density               either loose or close
;  block_formation               the formation to organise the block into  (square, column, line)
;  normalised_pos             (x,z) position relative to the center of the template (in normalised coords)
;  normalised_rot             rotation in degress relative to the orientation of the template
;  block_relative_pos            b x z (x,z) position (in metres) relative to formation block b
;  inter_unit_spacing            distance to space units (in metres)
;  priority                dictates the order in which units are assigned to the block





;****************************************************************
; No fancy formations that have no real effect on the crappy AI anyway,
; just an organised formation that makes deployment faster and easier: sorting units in ranks by unit type
; light, line, heavy, light cav, heavy cav, rest (general, officers, artillery)
;****************************************************************

begin_formation ai_standard_line

   ;;; purpose flags
   attack
   defend

   ai_priority       1.0

      ;; light infantry
      begin_block 0
         unit_type         light infantry 1.0
         default_melee_state     fire_at_will
         unit_density         close
         block_formation         line
         block_relative_pos      0 0.0 0.0
         inter_unit_spacing      0.2
         priority       0.5
      end_block

      ;; line infantry
      begin_block 1
         unit_type         spearmen infantry 1.0
         default_melee_state     fire_at_will
         unit_density         close
         block_formation         line
         block_relative_pos      0 0.0 -10.0
         inter_unit_spacing      0.2
         priority       0.5
      end_block

      ;; militia
      begin_block 2
         unit_type         spearmen infantry 1.0
         default_melee_state     fire_at_will
         unit_density         close
         block_formation         line
         block_relative_pos      1 0.0 -10.0
         inter_unit_spacing      0.2
         priority       0.5
      end_block

      ;; heavy infantry
      begin_block 3
         unit_type         heavy infantry  1.0
         default_melee_state     fire_at_will
         unit_density         close
         block_formation         line
         block_relative_pos      2 0.0 -10.0
         inter_unit_spacing      0.2
         priority       0.5
      end_block

      ;; light cavalry
      begin_block 4
         unit_type         light cavalry     1.0
         block_formation         line
         block_relative_pos      3 0.0 -10.0
         inter_unit_spacing      0.2
         priority       0.5
      end_block

      ;; heavy cavalry
      begin_block 5
         unit_type         heavy cavalry     1.0
         block_formation         line
         block_relative_pos      4 0.0 -10.0
         inter_unit_spacing      0.2
         priority       0.5
      end_block

      ;; general and artillery at the back
      begin_block 6
         unit_type         general_unit      1.0
         unit_type         missile cavalry      1.0
         unit_type         handler        1.0
         unit_type         siege       1.0
         unit_type         any         0.1
         block_formation         line
         block_relative_pos      5 0.0 -10.0
         inter_unit_spacing      0.2
         priority       1.0
      end_block


end_formation