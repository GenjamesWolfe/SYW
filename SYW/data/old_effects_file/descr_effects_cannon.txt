; ************************************************
; *** NOTES ON EFFECTS
; *** Start effects are also used during impacts. As a result they have been reduced in size as it would
; *** otherwise result in large smoke clouds whenever a projectile hits a soldier or ground.
; *** Use the trailing_smoke effect for the start effect to see the trajectory of projectiles.
; ************************************************

; *** TRAILING EFFECT FOR TESTING THE TRAJECTORY OF SHELLS
effect trailing_smoke
{
	type particle
 	{
		texture			battlefield/fire/smoke0.tga

		size_range      	2.0, 2.5
		age_range       	0.5, 1.5
	    	grow_range		1.5, 1.8
		velocity   		0.0, 0.2
		colour     		200, 200, 200
		alpha_max	   	90			 ; maximum alpha value
		emitter distance
		{
			density			2 	     ; how many particels per meter
		}
		
		fade_time		0.1		

		clr_adjust_by_ambient_intensity		
	}
}

; *** EFFECT WHEN CANNONBALL IMPACTS
effect boulder_explosion_01
{
	type explosion
	{
		; main explosion
		model 				../SYW/data/models_effects/pm_explosion_dirt1.cas
		anim_time			1
		max_scale   			8
		max_particle_scale 		4
		scale_time_bias			.4
		alpha_time_bias			0.9
		

		; debris
        debris_model                             models_effects/debri02.cas
        debris_num_particles     0
        debris_lifetime_range    2.2, 20
        debris_emit_angle        30              ; degrees
        debris_time_bias         0.9
        debris_velocity_range    5.5, 30.5
        debris_scale_range       0.4, 1.5
	}
}

effect boulder_explosion_02
{
	type explosion
	{
		; main explosion
		model 				../SYW/data/models_effects/pm_explosion_dirt1.cas
		anim_time			1
		max_scale   			6
		max_particle_scale 		7
		scale_time_bias			.4
		alpha_time_bias			0.7	

		; debris
        debris_model                             models_effects/debri02.cas
        debris_num_particles     0
        debris_lifetime_range    2.2, 20
        debris_emit_angle        70              ; degrees
        debris_time_bias         0.9
        debris_velocity_range    5.5, 30.5
        debris_scale_range       0.4, 1.5
	}
}

effect boulder_dust_explosion
{
	type explosion
	{
	; dust explode
		model 				../SYW/data/models_effects/pm_explosion_dust.cas
		anim_time			3
		max_scale   			15
		max_particle_scale 		4
		scale_time_bias			.7
		alpha_time_bias			0.6

		; debris
	        debris_model                             models_effects/debri02.CAS
        	debris_num_particles     0
	        debris_lifetime_range    2.2, 20
        	debris_emit_angle        70              ; degrees
	        debris_time_bias         0.9
        	debris_velocity_range    5.5, 30.5
	        debris_scale_range       0.4, 1.5
	}
}

effect boulder_dust_explosion2
{
	type explosion
	{
	; dust explode
		model 				../SYW/data/models_effects/pm_explosion_dust3.cas
		anim_time			3
		max_scale   			7
		max_particle_scale 		4
		scale_time_bias			.5
		alpha_time_bias			0.8

		; debris
	        debris_model                             models_effects/debri02.CAS
        	debris_num_particles     0
	        debris_lifetime_range    2.2, 20
        	debris_emit_angle        70              ; degrees
	        debris_time_bias         0.9
        	debris_velocity_range    5.5, 30.5
	        debris_scale_range       0.4, 1.5
	}
}



; *** EFFECT WHEN CANNISTER IMPACTS
effect cannister_impact
{
	type explosion
	{
		; DIRT EXPLOSION
		model 				../SYW/data/models_effects/cannisterexplosion.cas
		anim_time			1
		max_scale   			10.0
		max_particle_scale 		50
		scale_time_bias			0.999
		alpha_time_bias			0.3
		

        debris_model                             models_effects/ntw_cannon_fire.cas
        debris_num_particles     5
        debris_lifetime_range    2, 3
        debris_emit_angle        180              ; degrees
        debris_time_bias         0.99
        debris_velocity_range    4, 5
        debris_scale_range       20, 0.9
	}
}


; *** EFFECT FOR FIRING CANNONS
; *** This effect should give a gunfire flash
; it should appear NEAR the unit firing only, but does not yet
effect fire_cannon_1
{ 
	type explosion 
	{ 
		; dust explode 
		model			models_effects/explosion_dust.cas 
		anim_time		0.18
		max_scale		2.2
		max_particle_scale	2.7
		scale_time_bias		0.7
		alpha_time_bias		0.4

		; debris 
		debris_model		models_effects/fire_debri_01.CAS
        debris_num_particles     0
        debris_lifetime_range    2.9, 5.9
        debris_emit_angle        180              ; degrees
        debris_time_bias         0.9
        debris_velocity_range    6.5, 8.5
        debris_scale_range       1.5, 3
	} 
} 

; *** This effect will give some medium speed smoke and will be taken over by firearm_smoke_3.
effect fire_cannon_2
{
	type particle
 	{
		texture			    battlefield/fire/smoke0.tga

		size_range      	3.1, 3.2
		age_range       	0.7, 2.2
	    	grow_range		1.5, 1.6
		velocity   		0.0, 0.2
		colour     		190, 190, 190
		alpha_max	   	70			; maximum alpha value
		emitter distance
		{
			; How many particels per meter. The inverse must not be higher then the maximum range

			density		0.015
			;emitter_falloff_dist	9			; distance in meters to reduce emission over
			;emitter_falloff_bias	0.5
		}
		
		fade_time		4.0		
	}
}

; *** This effect will surround the gunners with lingering smoke.
effect fire_cannon_3
{
	type particle
 	{
		texture			    battlefield/fire/smoke0.tga

		size_range      	8.0, 18.0
		age_range       	13.0, 36.5
	    	grow_range		2.5, 5.0
		velocity   		0.0, 0.0
		colour     		181, 181, 181
		alpha_max	   	50			; maximum alpha value
		emitter distance
		{
			; How many particels per meter. The inverse must not be higher then the maximum range

			density		0.09
			;emitter_falloff_dist	9			; distance in meters to reduce emission over
			;emitter_falloff_bias	0.5
		}
		
		fade_time		80.0		
	}
}


; *** EFFECT FOR EXPLODING SHELL
effect exploding_shell
{
	type explosion
	{
		; fireball
		model 				../SYW/data/models_effects/ntw_shell_explosion.cas
		anim_time			1
		max_scale   			1.0
		max_particle_scale 		50
		scale_time_bias			0.999
		alpha_time_bias			0.3
		

		; debris
        debris_model                             models_effects/debri02.cas
        debris_num_particles     20
        debris_lifetime_range    2.2, 20
        debris_emit_angle        70              ; degrees
        debris_time_bias         0.9
        debris_velocity_range    5.5, 30.5
        debris_scale_range       0.01, 0.1
	}
}

; *** EFFECT SETS
effect_set shell_effect
{ 
	lod 1000 
	{ 
		fire_cannon_1
		fire_cannon_2
		fire_cannon_3
		;trailing_smoke		; * ENABLE FOR TESTING TRAJECTORIES
	} 
} 

effect_set shell_end_effect
{ 
	lod 1000 
	{ 
		exploding_shell
	} 
}
effect_set canister_effect
{ 
	lod 1000 
	{ 
		fire_cannon_1
		fire_cannon_2
		fire_cannon_3
		;trailing_smoke		; * ENABLE FOR TESTING TRAJECTORIES
	} 
} 

effect_set canister_end_effect
{ 
	lod 1000 
	{ 
		cannister_impact
	} 
} 
 
effect_set cannon_effect
{ 
	lod 1000 
	{ 
		fire_cannon_1
		fire_cannon_2
		fire_cannon_3
		;trailing_smoke		; * ENABLE FOR TESTING TRAJECTORIES

	} 
} 

effect_set cannon_end_effect
{
	play_time 3
	lod 1000
	{
		boulder_explosion_01
		boulder_explosion_02
		boulder_dust_explosion
		boulder_dust_explosion2
	}
}